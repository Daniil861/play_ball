(()=>{"use strict";let e=!1;setTimeout((()=>{if(e){let e=new Event("windowScroll");window.addEventListener("scroll",(function(t){document.dispatchEvent(e)}))}}),0),window.addEventListener("load",(function(){document.querySelector("body")&&setTimeout((function(){document.querySelector("body").classList.add("_loaded")}),200)})),sessionStorage.getItem("preloader")&&(document.querySelector(".preloader")&&document.querySelector(".preloader").classList.add("_hide"),document.querySelector(".wrapper").classList.add("_visible"));const t=()=>{document.documentElement.style.setProperty("--app-height",`${window.innerHeight}px`)};window.addEventListener("resize",t),t(),document.querySelector(".game")&&(document.querySelector("html").classList.add("_game"),document.querySelector("body").classList.add("_game"));const s=document.querySelector(".preloader__dots"),o=document.querySelector(".preloader"),n=document.querySelectorAll(".acces-preloader__text-hide"),i=document.querySelector(".acces-preloader__button"),a=document.querySelector(".acces-preloader__button_back"),l=document.querySelector(".wrapper"),r=document.querySelector(".header-wrapper__pause"),c=document.querySelector(".game"),m=document.querySelector(".pause");let d=document.querySelector(".header-wrapper__count_points"),u=document.querySelector(".header-wrapper__count_time");sessionStorage.getItem("monets")&&(d.textContent=sessionStorage.getItem("monets")),sessionStorage.getItem("coins")&&(u.textContent=sessionStorage.getItem("coins")),sessionStorage.getItem("rocket")>0&&document.querySelector(".weapons__rocket")&&document.querySelector(".weapons__rocket").classList.remove("_no-active"),sessionStorage.getItem("bomb")>0&&document.querySelector(".weapons__bomb")&&document.querySelector(".weapons__bomb").classList.remove("_no-active"),c&&r.classList.add("_visible"),document.addEventListener("click",(e=>{let t=e.target;if(t.closest(".acces-preloader__button")&&(o.classList.add("_hide"),sessionStorage.setItem("preloader",!0),l.classList.add("_visible")),t.closest(".preloader__dots-target")&&(s.classList.add("_hide"),n.forEach((e=>{e.classList.add("_visible")})),i.classList.add("_hide"),a.classList.add("_visible")),t.closest(".acces-preloader__button_back")&&(s.classList.remove("_hide"),n.forEach((e=>{e.classList.remove("_visible")})),i.classList.remove("_hide"),a.classList.remove("_visible")),t.closest(".bonus__button")&&(document.querySelector(".bonus__image").classList.add("_anim"),document.querySelector(".bonus__button").classList.add("_hide"),setTimeout((()=>{!function(){let e=E(),t=document.createElement("div");t.classList.add("bonus__item");let s=document.createElement("div");s.classList.add("bonus__item"),s.classList.add("bonus__item_two");let o=document.createElement("div");o.classList.add("bonus__item"),o.classList.add("bonus__item_three");let n=document.createElement("img"),i=document.createElement("img"),a=document.createElement("img"),l=document.createElement("div"),r=document.createElement("div"),c=document.createElement("div");if(0==e[0])if(n.setAttribute("src","img/icons/ball-2.svg"),n.setAttribute("alt","Image"),t.append(n),document.querySelector(".bonus__prize_one").append(t),sessionStorage.getItem("ball")){let e=+sessionStorage.getItem("ball");sessionStorage.setItem("ball",e+1)}else sessionStorage.setItem("ball",1);else if(1==e[0])if(n.setAttribute("src","img/icons/bomb.svg"),n.setAttribute("alt","Image"),t.append(n),document.querySelector(".bonus__prize_one").append(t),sessionStorage.getItem("bomb")){let e=+sessionStorage.getItem("bomb");sessionStorage.setItem("bomb",e+1)}else sessionStorage.setItem("bomb",1);else if(2==e[0]){l.classList.add("bonus__text");let e=z();l.textContent=`+${e}`,setTimeout((()=>{d.textContent=+d.innerHTML+e,sessionStorage.setItem("monets",d.innerHTML),d.classList.add("_anim"),setTimeout((()=>{d.classList.remove("_anim")}),1e3)}),500),n.setAttribute("src","img/icons/dot.svg"),n.setAttribute("alt","Image"),t.append(n,l),document.querySelector(".bonus__prize_one").append(t)}else if(3==e[0])if(n.setAttribute("src","img/icons/rocket.svg"),n.setAttribute("alt","Image"),t.append(n),document.querySelector(".bonus__prize_one").append(t),sessionStorage.getItem("rocket")){let e=+sessionStorage.getItem("rocket");sessionStorage.setItem("rocket",e+1)}else sessionStorage.setItem("rocket",1);else if(4==e[0]){l.classList.add("bonus__text");let e=$();l.textContent=`+${e}`,setTimeout((()=>{u.textContent=+u.innerHTML+e,sessionStorage.setItem("coins",u.innerHTML),u.classList.add("_anim"),setTimeout((()=>{u.classList.remove("_anim")}),1e3)}),500),n.setAttribute("src","img/icons/romb.svg"),n.setAttribute("alt","Image"),t.append(n,l),document.querySelector(".bonus__prize_one").append(t)}if(0==e[1])if(i.setAttribute("src","img/icons/ball-2.svg"),i.setAttribute("alt","Image"),s.append(i),document.querySelector(".bonus__prize_two").append(s),sessionStorage.getItem("ball")){let e=+sessionStorage.getItem("ball");sessionStorage.setItem("ball",e+1)}else sessionStorage.setItem("ball",1);else if(1==e[1])if(i.setAttribute("src","img/icons/bomb.svg"),i.setAttribute("alt","Image"),s.append(i),document.querySelector(".bonus__prize_two").append(s),sessionStorage.getItem("bomb")){let e=+sessionStorage.getItem("bomb");sessionStorage.setItem("bomb",e+1)}else sessionStorage.setItem("bomb",1);else if(2==e[1]){r.classList.add("bonus__text"),r.classList.add("bonus__text_small");let e=z();r.textContent=`+${e}`,setTimeout((()=>{d.textContent=+d.innerHTML+e,sessionStorage.setItem("monets",d.innerHTML),d.classList.add("_anim"),setTimeout((()=>{d.classList.remove("_anim")}),1e3)}),500),i.setAttribute("src","img/icons/dot.svg"),i.setAttribute("alt","Image"),s.append(i,r),document.querySelector(".bonus__prize_two").append(s)}else if(3==e[1])if(i.setAttribute("src","img/icons/rocket.svg"),i.setAttribute("alt","Image"),s.append(i),document.querySelector(".bonus__prize_two").append(s),sessionStorage.getItem("rocket")){let e=+sessionStorage.getItem("rocket");sessionStorage.setItem("rocket",e+1)}else sessionStorage.setItem("rocket",1);else if(4==e[1]){r.classList.add("bonus__text"),r.classList.add("bonus__text_small");let e=$();r.textContent=`+${e}`,setTimeout((()=>{u.textContent=+u.innerHTML+e,sessionStorage.setItem("coins",u.innerHTML),u.classList.add("_anim"),setTimeout((()=>{u.classList.remove("_anim")}),1e3)}),500),i.setAttribute("src","img/icons/romb.svg"),i.setAttribute("alt","Image"),s.append(i,r),document.querySelector(".bonus__prize_two").append(s)}if(0==e[2])if(a.setAttribute("src","img/icons/ball-2.svg"),a.setAttribute("alt","Image"),o.append(a),document.querySelector(".bonus__prize_three").append(o),sessionStorage.getItem("ball")){let e=+sessionStorage.getItem("ball");sessionStorage.setItem("ball",e+1)}else sessionStorage.setItem("ball",1);else if(1==e[2])if(a.setAttribute("src","img/icons/bomb.svg"),a.setAttribute("alt","Image"),o.append(a),document.querySelector(".bonus__prize_three").append(o),sessionStorage.getItem("bomb")){let e=+sessionStorage.getItem("bomb");sessionStorage.setItem("bomb",e+1)}else sessionStorage.setItem("bomb",1);else if(2==e[2]){c.classList.add("bonus__text"),c.classList.add("bonus__text_small");let e=z();c.textContent=`+${e}`,setTimeout((()=>{d.textContent=+d.innerHTML+e,sessionStorage.setItem("monets",d.innerHTML),d.classList.add("_anim"),setTimeout((()=>{d.classList.remove("_anim")}),1e3)}),500),a.setAttribute("src","img/icons/dot.svg"),a.setAttribute("alt","Image"),o.append(a,c),document.querySelector(".bonus__prize_three").append(o)}else if(3==e[2])if(a.setAttribute("src","img/icons/rocket.svg"),a.setAttribute("alt","Image"),o.append(a),document.querySelector(".bonus__prize_three").append(o),sessionStorage.getItem("rocket")){let e=+sessionStorage.getItem("rocket");sessionStorage.setItem("rocket",e+1)}else sessionStorage.setItem("rocket",1);else if(4==e[2]){c.classList.add("bonus__text"),c.classList.add("bonus__text_small");let e=$();c.textContent=`+${e}`,setTimeout((()=>{u.textContent=+u.innerHTML+e,sessionStorage.setItem("coins",u.innerHTML),u.classList.add("_anim"),setTimeout((()=>{u.classList.remove("_anim")}),1e3)}),500),a.setAttribute("src","img/icons/romb.svg"),a.setAttribute("alt","Image"),o.append(a,c),document.querySelector(".bonus__prize_three").append(o)}}()}),1e3)),t.closest(".shop__item_ball"))if(+d.innerHTML>=9e4)if(setTimeout((()=>{d.innerHTML=+d.innerHTML-9e4,sessionStorage.setItem("monets",d.innerHTML),d.classList.add("_buy"),setTimeout((()=>{d.classList.remove("_buy")}),500)}),200),sessionStorage.getItem("ball")){let e=+sessionStorage.getItem("ball");sessionStorage.setItem("ball",e+1)}else sessionStorage.setItem("ball",1);else d.classList.add("_no-money"),setTimeout((()=>{d.classList.remove("_no-money")}),1e3);if(t.closest(".shop__item_bomb"))if(+u.innerHTML>=50)if(setTimeout((()=>{u.innerHTML=+u.innerHTML-50,sessionStorage.setItem("coins",u.innerHTML),u.classList.add("_buy"),setTimeout((()=>{u.classList.remove("_buy")}),500)}),200),sessionStorage.getItem("bomb")){let e=+sessionStorage.getItem("bomb");sessionStorage.setItem("bomb",e+1)}else sessionStorage.setItem("bomb",1);else u.classList.add("_no-money"),setTimeout((()=>{u.classList.remove("_no-money")}),1e3);if(t.closest(".shop__item_rocket"))if(+d.innerHTML>=200)if(setTimeout((()=>{d.innerHTML=+d.innerHTML-200,sessionStorage.setItem("monets",d.innerHTML),d.classList.add("_buy"),setTimeout((()=>{d.classList.remove("_buy")}),500)}),200),sessionStorage.getItem("rocket")){let e=+sessionStorage.getItem("rocket");sessionStorage.setItem("rocket",e+1)}else sessionStorage.setItem("rocket",1);else d.classList.add("_no-money"),setTimeout((()=>{d.classList.remove("_no-money")}),1e3);t.closest(".header-wrapper__pause")&&(r.classList.contains("_active")?(r.classList.remove("_active"),c.classList.remove("_hide"),m.classList.remove("_active"),T=setInterval((()=>{k()}),30)):(r.classList.add("_active"),c.classList.add("_hide"),m.classList.add("_active"),clearInterval(T))),t.closest(".pause__item_continue")&&(r.classList.remove("_active"),c.classList.remove("_hide"),m.classList.remove("_active"),T=setInterval((()=>{k()}),30)),t.closest(".button_start")&&(sessionStorage.getItem("game-one")||sessionStorage.getItem("game-two")||sessionStorage.getItem("game-three")?location.href="levels.html":location.href="game.html"),t.closest(".game__ball")&&(T=setInterval((()=>{k()}),30),document.querySelector(".game__ball").classList.add("_anim")),t.closest(".weapons__rocket")&&sessionStorage.getItem("rocket")>0&&(document.querySelector(".weapons__rocket").classList.add("_no-active"),function(){let e=document.querySelectorAll(".game__element"),t=document.createElement("div");t.classList.add("game__rocket"),t.classList.add("_active");let s=document.createElement("img");s.setAttribute("src","img/icons/rocket.svg"),s.setAttribute("alt","Image"),t.append(s),y.append(t);let o=setInterval((()=>{w+=-10,t.style.top=`${w}px`,w<-1200&&(clearInterval(o),t.style.top="0%",w=0,t.remove());for(let s=0;s<e.length;s++){let o=t.getBoundingClientRect().left,n=t.getBoundingClientRect().left+10,i=t.getBoundingClientRect().top,a=t.getBoundingClientRect().top+10,l=e[s].getBoundingClientRect().left,r=e[s].getBoundingClientRect().left+p,c=e[s].getBoundingClientRect().top,m=e[s].getBoundingClientRect().top+S;n>l&&i<m&&o<r&&a>c&&(e[s].classList.add("_hide"),e[s].dataset.destroy=1)}}),10),n=+sessionStorage.getItem("rocket");n--,sessionStorage.setItem("rocket",n),setTimeout((()=>{sessionStorage.getItem("rocket")>0&&document.querySelector(".weapons__rocket").classList.remove("_no-active")}),1e3)}(),setTimeout((()=>{M()}),1500)),t.closest(".weapons__bomb")&&(document.querySelector(".weapons__bomb").classList.add("_no-active"),function(){let e=document.querySelectorAll(".game__element"),t=document.createElement("div");t.classList.add("game__bomb"),t.classList.add("_active");let s=document.createElement("img");s.setAttribute("src","img/icons/bomb.svg"),s.setAttribute("alt","Image"),t.append(s);let o=B(5,80),n=B(5,50);t.style.left=`${o}%`,t.style.top=`${n}%`,L.append(t);for(let s=0;s<e.length;s++){let o=t.getBoundingClientRect().left,n=t.getBoundingClientRect().left+50,i=t.getBoundingClientRect().top,a=t.getBoundingClientRect().top+70,l=e[s].getBoundingClientRect().left,r=e[s].getBoundingClientRect().left+p,c=e[s].getBoundingClientRect().top,m=e[s].getBoundingClientRect().top+S;n>l&&i<m&&o<r&&a>c&&(e[s].classList.add("_hide"),e[s].dataset.destroy=1)}let i=+sessionStorage.getItem("bomb");i--,sessionStorage.setItem("bomb",i),setTimeout((()=>{sessionStorage.getItem("bomb")>0&&document.querySelector(".weapons__bomb").classList.remove("_no-active"),t.remove()}),1e3)}(),setTimeout((()=>{M()}),1500)),t.closest(".weapons__ball")&&(document.querySelector(".weapons__ball").classList.add("_no-active"),function(){let e=document.querySelectorAll(".game__element"),t=document.createElement("div");t.classList.add("game__ball-two"),t.classList.add("_active");let s=document.createElement("img");s.setAttribute("src","img/icons/ball-2.svg"),s.setAttribute("alt","Image"),t.append(s);let o=B(5,50);t.style.top=`${o}%`,L.append(t);let n=setInterval((()=>{R+=10,t.style.right=`${R}px`,R>500&&(clearInterval(n),t.style.right="0%",R=0,t.remove());for(let s=0;s<e.length;s++){let o=t.getBoundingClientRect().left,n=t.getBoundingClientRect().left+10,i=t.getBoundingClientRect().top,a=t.getBoundingClientRect().top+10,l=e[s].getBoundingClientRect().left,r=e[s].getBoundingClientRect().left+p,c=e[s].getBoundingClientRect().top,m=e[s].getBoundingClientRect().top+S;n>l&&i<m&&o<r&&a>c&&(e[s].classList.add("_hide"),e[s].dataset.destroy=1)}}),10),i=+sessionStorage.getItem("ball");i--,sessionStorage.setItem("ball",i),setTimeout((()=>{sessionStorage.getItem("ball")>0&&document.querySelector(".weapons__ball").classList.remove("_no-active")}),1e3)}(),setTimeout((()=>{M()}),1500))})),document.addEventListener("touchstart",(function(e){if(e.target.closest(".game__platform")){let t=e.touches[0];_=t.clientX,b=t.clientY}}),!1),document.addEventListener("touchmove",(function(e){if(!_||!b)return!1;let t=e.touches[0].clientX-_;const s=document.querySelector(".game__platform"),o=window.getComputedStyle(s);let n=parseInt(o.left,10);t>0?f[0]<g-270&&(f[0]+=25,A()):n>0&&(f[0]-=25,A())}),!1);const g=document.documentElement.clientWidth;document.documentElement.clientHeight;let _=null,b=null;const p=30,S=35,L=document.querySelector(".game__body"),I=document.querySelector(".game__ball"),y=document.querySelector(".game__platform");let f=[16,5];let v=[42,10];const h=70;let T,C=1,q=1;function A(){document.querySelector(".game__platform").style.left=`${f[0]}px`}let w=0;function B(e,t){return Math.floor(Math.random()*(t-e)+e)}let R=0;function M(){let e=document.querySelectorAll(".game__element"),t=0;e.forEach((e=>{0==e.dataset.destroy&&t++})),t<=0&&(clearInterval(T),document.querySelector(".game_one")?setTimeout((()=>{d.textContent=+d.innerHTML+1e3,u.textContent=+u.innerHTML+50,sessionStorage.setItem("monets",d.innerHTML),sessionStorage.setItem("coins",u.innerHTML),d.classList.add("_anim"),u.classList.add("_anim"),setTimeout((()=>{d.classList.remove("_anim"),u.classList.remove("_anim")}),1e3)}),500):document.querySelector(".game_two")&&setTimeout((()=>{d.textContent=+d.innerHTML+5e3,u.textContent=+u.innerHTML+150,sessionStorage.setItem("monets",d.innerHTML),sessionStorage.setItem("coins",u.innerHTML),d.classList.add("_anim"),u.classList.add("_anim"),setTimeout((()=>{d.classList.remove("_anim"),u.classList.remove("_anim")}),1e3)}),500),document.querySelector(".game_three")&&setTimeout((()=>{d.textContent=+d.innerHTML+1e4,u.textContent=+u.innerHTML+250,sessionStorage.setItem("monets",d.innerHTML),sessionStorage.setItem("coins",u.innerHTML),d.classList.add("_anim"),u.classList.add("_anim"),setTimeout((()=>{d.classList.remove("_anim"),u.classList.remove("_anim")}),1e3)}),500),setTimeout((()=>{document.querySelector(".play").classList.add("_active")}),1e3),document.querySelector(".game_one")?sessionStorage.setItem("game-one",!0):document.querySelector(".game_two")?sessionStorage.setItem("game-two",!0):document.querySelector(".game_three")&&sessionStorage.setItem("game-three",!0))}function H(){let e=document.querySelector(".game__ball"),t=e.getBoundingClientRect().left,s=e.getBoundingClientRect().top,o=document.querySelector(".game__platform").getBoundingClientRect().left,n=document.querySelectorAll(".game__element_fruit"),i=document.querySelectorAll(".game__element_flower"),a=document.querySelectorAll(".game__element_lemon"),l=document.querySelectorAll(".game__element_orange"),r=document.querySelectorAll(".game__element_bag");if(M(),n)for(let e=0;e<n.length;e++){let o=n[e].getBoundingClientRect().left,i=n[e].getBoundingClientRect().left+p,a=n[e].getBoundingClientRect().top,l=n[e].getBoundingClientRect().top+S;t+h>o&&s<l&&t<i&&s+h>a&&(n[e].classList.add("_hide"),n[e].dataset.destroy=1,1==q&&s<=l?q=-1:1==q&&t<=i&&s+h>a||-1==q&&t<=i&&s+h?C=1:-1==q&&s+h+10>=a?q=1:(1==q&&t+h>o||-1==q&&t+h>o)&&(C=-1))}if(i)for(let e=0;e<i.length;e++){let o=i[e].getBoundingClientRect().left,n=i[e].getBoundingClientRect().left+p,a=i[e].getBoundingClientRect().top,l=i[e].getBoundingClientRect().top+S;t+h>o&&s<l&&t<n&&s+h>a&&(i[e].classList.add("_hide"),i[e].dataset.destroy=1,1==q&&s<=l||1==q&&s<=l?q=-1:-1==C&&1==q&&t<=n||-1==C&&-1==q&&t<=n?C=1:-1==q&&s+h>=a?q=1:1==C&&t+h>o&&(C=-1))}if(a)for(let e=0;e<a.length;e++){let o=a[e].getBoundingClientRect().left,n=a[e].getBoundingClientRect().left+p,i=a[e].getBoundingClientRect().top,l=a[e].getBoundingClientRect().top+S;t+h>o&&s<l&&t<n&&s+h>i&&(a[e].style.opacity="0",a[e].dataset.destroy=1,a[e].classList.add("_hide"),1==q&&s<=l?q=-1:1==q&&t<=n||-1==q&&t<=n?C=1:-1==q&&s+h+10>=i?q=1:(1==q&&t+h>o||-1==q&&t+h>o)&&(C=-1))}if(l)for(let e=0;e<l.length;e++){let o=l[e].getBoundingClientRect().left,n=l[e].getBoundingClientRect().left+p,i=l[e].getBoundingClientRect().top,a=l[e].getBoundingClientRect().top+S;t+h>o&&s<a&&t<n&&s+h>i&&(l[e].style.opacity="0",l[e].dataset.destroy=1,l[e].classList.add("_hide"),1==q&&s<=a?q=-1:1==q&&t<=n||-1==q&&t<=n?C=1:-1==q&&s+h+10>=i?q=1:(1==q&&t+h>o||-1==q&&t+h>o)&&(C=-1))}if(r)for(let e=0;e<r.length;e++){let o=r[e].getBoundingClientRect().left,n=r[e].getBoundingClientRect().left+p,i=r[e].getBoundingClientRect().top,a=r[e].getBoundingClientRect().top+S;t+h>o&&s<a&&t<n&&s+h>i&&(r[e].style.opacity="0",r[e].dataset.destroy=1,r[e].classList.add("_hide"),1==q&&s<=a?q=-1:1==q&&t<=n||-1==q&&t<=n?C=1:-1==q&&s+h+10>=i?q=1:(1==q&&t+h>o||-1==q&&t+h>o)&&(C=-1))}if((t+h+10>=g||t<=0||s<=50)&&function(){let e=document.querySelector(".game__ball"),t=e.getBoundingClientRect().left,s=e.getBoundingClientRect().top;t+h+10>=g?C=-1:t<=0?C=1:s<=50&&(q=-1)}(),v[1]<=0){clearInterval(T),I.classList.add("_hide");let e=+document.querySelector(".header-wrapper_lifes").innerHTML;e<=0?(setTimeout((()=>{document.querySelector(".loose").classList.add("_active")}),600),setTimeout((()=>{d.textContent=+d.innerHTML+500,sessionStorage.setItem("monets",d.innerHTML),d.classList.add("_anim"),setTimeout((()=>{d.classList.remove("_anim")}),1e3)}),500)):(e--,setTimeout((()=>{document.querySelector(".header-wrapper_lifes").textContent=e,I.style.left="42%",I.style.bottom="10%",v=[42,10],setTimeout((()=>{I.classList.remove("_hide")}),500),setTimeout((()=>{T=setInterval((()=>{k()}),30)}),1e3)}),500))}t+h>=o+50&&t+h<=o+270&&v[1]<=10&&(q=1)}function k(){v[0]+=C,v[1]+=q,I.style.left=v[0]+"%",I.style.bottom=v[1]+"%",H()}sessionStorage.getItem("game-two")&&document.querySelectorAll(".levels__button").forEach((e=>{e.classList.contains("_hide")&&e.classList.remove("_hide")}));let x=[];function E(){let e=Math.floor(5*Math.random()+0);return x.push(e),x.length<3?E():x}function z(){return[10,50,30,10,200,100][Math.floor(6*Math.random()+0)]}function $(){return[1,1,2,6,5,3][Math.floor(6*Math.random()+0)]}window.FLS=!0,function(e){let t=new Image;t.onload=t.onerror=function(){e(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}((function(e){let t=!0===e?"webp":"no-webp";document.documentElement.classList.add(t)}))})();