(()=>{"use strict";let e={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return e.Android()||e.BlackBerry()||e.iOS()||e.Opera()||e.Windows()}};let t=!1;setTimeout((()=>{if(t){let e=new Event("windowScroll");window.addEventListener("scroll",(function(t){document.dispatchEvent(e)}))}}),0),window.addEventListener("load",(function(){document.querySelector("body")&&setTimeout((function(){document.querySelector("body").classList.add("_loaded")}),200)})),sessionStorage.getItem("preloader")&&(document.querySelector(".preloader")&&document.querySelector(".preloader").classList.add("_hide"),document.querySelector(".wrapper").classList.add("_visible"));const s=()=>{document.documentElement.style.setProperty("--app-height",`${window.innerHeight}px`)};window.addEventListener("resize",s),s();const o=document.querySelector(".preloader__dots"),n=document.querySelector(".preloader"),i=document.querySelectorAll(".acces-preloader__text-hide"),a=document.querySelector(".acces-preloader__button"),l=document.querySelector(".acces-preloader__button_back"),r=document.querySelector(".wrapper"),c=document.querySelector(".header-wrapper__pause"),d=document.querySelector(".game"),m=document.querySelector(".pause");let u=document.querySelector(".header-wrapper__count_points"),g=document.querySelector(".header-wrapper__count_time");sessionStorage.getItem("monets")&&(u.textContent=sessionStorage.getItem("monets")),sessionStorage.getItem("coins")&&(g.textContent=sessionStorage.getItem("coins")),sessionStorage.getItem("rocket")>0&&document.querySelector(".weapons__rocket")&&document.querySelector(".weapons__rocket").classList.remove("_no-active"),sessionStorage.getItem("bomb")>0&&document.querySelector(".weapons__bomb")&&document.querySelector(".weapons__bomb").classList.remove("_no-active"),document.addEventListener("click",(e=>{let t=e.target;if(t.closest(".acces-preloader__button")&&(n.classList.add("_hide"),sessionStorage.setItem("preloader",!0),r.classList.add("_visible")),t.closest(".preloader__dots-target")&&(o.classList.add("_hide"),i.forEach((e=>{e.classList.add("_visible")})),a.classList.add("_hide"),l.classList.add("_visible")),t.closest(".acces-preloader__button_back")&&(o.classList.remove("_hide"),i.forEach((e=>{e.classList.remove("_visible")})),a.classList.remove("_hide"),l.classList.remove("_visible")),t.closest(".bonus__button")&&(document.querySelector(".bonus__image").classList.add("_anim"),document.querySelector(".bonus__button").classList.add("_hide"),setTimeout((()=>{!function(){let e=z(),t=document.createElement("div");t.classList.add("bonus__item");let s=document.createElement("div");s.classList.add("bonus__item"),s.classList.add("bonus__item_two");let o=document.createElement("div");o.classList.add("bonus__item"),o.classList.add("bonus__item_three");let n=document.createElement("img"),i=document.createElement("img"),a=document.createElement("img"),l=document.createElement("div"),r=document.createElement("div"),c=document.createElement("div");if(0==e[0])if(n.setAttribute("src","img/icons/ball-2.svg"),n.setAttribute("alt","Image"),t.append(n),document.querySelector(".bonus__prize_one").append(t),sessionStorage.getItem("ball")){let e=+sessionStorage.getItem("ball");sessionStorage.setItem("ball",e+1)}else sessionStorage.setItem("ball",1);else if(1==e[0])if(n.setAttribute("src","img/icons/bomb.svg"),n.setAttribute("alt","Image"),t.append(n),document.querySelector(".bonus__prize_one").append(t),sessionStorage.getItem("bomb")){let e=+sessionStorage.getItem("bomb");sessionStorage.setItem("bomb",e+1)}else sessionStorage.setItem("bomb",1);else if(2==e[0]){l.classList.add("bonus__text");let e=$();l.textContent=`+${e}`,setTimeout((()=>{u.textContent=+u.innerHTML+e,sessionStorage.setItem("monets",u.innerHTML),u.classList.add("_anim"),setTimeout((()=>{u.classList.remove("_anim")}),1e3)}),500),n.setAttribute("src","img/icons/dot.svg"),n.setAttribute("alt","Image"),t.append(n,l),document.querySelector(".bonus__prize_one").append(t)}else if(3==e[0])if(n.setAttribute("src","img/icons/rocket.svg"),n.setAttribute("alt","Image"),t.append(n),document.querySelector(".bonus__prize_one").append(t),sessionStorage.getItem("rocket")){let e=+sessionStorage.getItem("rocket");sessionStorage.setItem("rocket",e+1)}else sessionStorage.setItem("rocket",1);else if(4==e[0]){l.classList.add("bonus__text");let e=P();l.textContent=`+${e}`,setTimeout((()=>{g.textContent=+g.innerHTML+e,sessionStorage.setItem("coins",g.innerHTML),g.classList.add("_anim"),setTimeout((()=>{g.classList.remove("_anim")}),1e3)}),500),n.setAttribute("src","img/icons/romb.svg"),n.setAttribute("alt","Image"),t.append(n,l),document.querySelector(".bonus__prize_one").append(t)}if(0==e[1])if(i.setAttribute("src","img/icons/ball-2.svg"),i.setAttribute("alt","Image"),s.append(i),document.querySelector(".bonus__prize_two").append(s),sessionStorage.getItem("ball")){let e=+sessionStorage.getItem("ball");sessionStorage.setItem("ball",e+1)}else sessionStorage.setItem("ball",1);else if(1==e[1])if(i.setAttribute("src","img/icons/bomb.svg"),i.setAttribute("alt","Image"),s.append(i),document.querySelector(".bonus__prize_two").append(s),sessionStorage.getItem("bomb")){let e=+sessionStorage.getItem("bomb");sessionStorage.setItem("bomb",e+1)}else sessionStorage.setItem("bomb",1);else if(2==e[1]){r.classList.add("bonus__text"),r.classList.add("bonus__text_small");let e=$();r.textContent=`+${e}`,setTimeout((()=>{u.textContent=+u.innerHTML+e,sessionStorage.setItem("monets",u.innerHTML),u.classList.add("_anim"),setTimeout((()=>{u.classList.remove("_anim")}),1e3)}),500),i.setAttribute("src","img/icons/dot.svg"),i.setAttribute("alt","Image"),s.append(i,r),document.querySelector(".bonus__prize_two").append(s)}else if(3==e[1])if(i.setAttribute("src","img/icons/rocket.svg"),i.setAttribute("alt","Image"),s.append(i),document.querySelector(".bonus__prize_two").append(s),sessionStorage.getItem("rocket")){let e=+sessionStorage.getItem("rocket");sessionStorage.setItem("rocket",e+1)}else sessionStorage.setItem("rocket",1);else if(4==e[1]){r.classList.add("bonus__text"),r.classList.add("bonus__text_small");let e=P();r.textContent=`+${e}`,setTimeout((()=>{g.textContent=+g.innerHTML+e,sessionStorage.setItem("coins",g.innerHTML),g.classList.add("_anim"),setTimeout((()=>{g.classList.remove("_anim")}),1e3)}),500),i.setAttribute("src","img/icons/romb.svg"),i.setAttribute("alt","Image"),s.append(i,r),document.querySelector(".bonus__prize_two").append(s)}if(0==e[2])if(a.setAttribute("src","img/icons/ball-2.svg"),a.setAttribute("alt","Image"),o.append(a),document.querySelector(".bonus__prize_three").append(o),sessionStorage.getItem("ball")){let e=+sessionStorage.getItem("ball");sessionStorage.setItem("ball",e+1)}else sessionStorage.setItem("ball",1);else if(1==e[2])if(a.setAttribute("src","img/icons/bomb.svg"),a.setAttribute("alt","Image"),o.append(a),document.querySelector(".bonus__prize_three").append(o),sessionStorage.getItem("bomb")){let e=+sessionStorage.getItem("bomb");sessionStorage.setItem("bomb",e+1)}else sessionStorage.setItem("bomb",1);else if(2==e[2]){c.classList.add("bonus__text"),c.classList.add("bonus__text_small");let e=$();c.textContent=`+${e}`,setTimeout((()=>{u.textContent=+u.innerHTML+e,sessionStorage.setItem("monets",u.innerHTML),u.classList.add("_anim"),setTimeout((()=>{u.classList.remove("_anim")}),1e3)}),500),a.setAttribute("src","img/icons/dot.svg"),a.setAttribute("alt","Image"),o.append(a,c),document.querySelector(".bonus__prize_three").append(o)}else if(3==e[2])if(a.setAttribute("src","img/icons/rocket.svg"),a.setAttribute("alt","Image"),o.append(a),document.querySelector(".bonus__prize_three").append(o),sessionStorage.getItem("rocket")){let e=+sessionStorage.getItem("rocket");sessionStorage.setItem("rocket",e+1)}else sessionStorage.setItem("rocket",1);else if(4==e[2]){c.classList.add("bonus__text"),c.classList.add("bonus__text_small");let e=P();c.textContent=`+${e}`,setTimeout((()=>{g.textContent=+g.innerHTML+e,sessionStorage.setItem("coins",g.innerHTML),g.classList.add("_anim"),setTimeout((()=>{g.classList.remove("_anim")}),1e3)}),500),a.setAttribute("src","img/icons/romb.svg"),a.setAttribute("alt","Image"),o.append(a,c),document.querySelector(".bonus__prize_three").append(o)}}()}),1e3)),t.closest(".shop__item_ball"))if(+u.innerHTML>=9e4)if(setTimeout((()=>{u.innerHTML=+u.innerHTML-9e4,sessionStorage.setItem("monets",u.innerHTML),u.classList.add("_buy"),setTimeout((()=>{u.classList.remove("_buy")}),500)}),200),sessionStorage.getItem("ball")){let e=+sessionStorage.getItem("ball");sessionStorage.setItem("ball",e+1)}else sessionStorage.setItem("ball",1);else u.classList.add("_no-money"),setTimeout((()=>{u.classList.remove("_no-money")}),1e3);if(t.closest(".shop__item_bomb"))if(+g.innerHTML>=50)if(setTimeout((()=>{g.innerHTML=+g.innerHTML-50,sessionStorage.setItem("coins",g.innerHTML),g.classList.add("_buy"),setTimeout((()=>{g.classList.remove("_buy")}),500)}),200),sessionStorage.getItem("bomb")){let e=+sessionStorage.getItem("bomb");sessionStorage.setItem("bomb",e+1)}else sessionStorage.setItem("bomb",1);else g.classList.add("_no-money"),setTimeout((()=>{g.classList.remove("_no-money")}),1e3);if(t.closest(".shop__item_rocket"))if(+u.innerHTML>=200)if(setTimeout((()=>{u.innerHTML=+u.innerHTML-200,sessionStorage.setItem("monets",u.innerHTML),u.classList.add("_buy"),setTimeout((()=>{u.classList.remove("_buy")}),500)}),200),sessionStorage.getItem("rocket")){let e=+sessionStorage.getItem("rocket");sessionStorage.setItem("rocket",e+1)}else sessionStorage.setItem("rocket",1);else u.classList.add("_no-money"),setTimeout((()=>{u.classList.remove("_no-money")}),1e3);t.closest(".header-wrapper__pause")&&(c.classList.contains("_active")?(c.classList.remove("_active"),d.classList.remove("_hide"),m.classList.remove("_active"),A=setInterval((()=>{x()}),30)):(c.classList.add("_active"),d.classList.add("_hide"),m.classList.add("_active"),clearInterval(A))),t.closest(".pause__item_continue")&&(c.classList.remove("_active"),d.classList.remove("_hide"),m.classList.remove("_active"),A=setInterval((()=>{x()}),30)),t.closest(".button_start")&&(sessionStorage.getItem("game-one")||sessionStorage.getItem("game-two")||sessionStorage.getItem("game-three")?location.href="levels.html":location.href="game.html"),t.closest(".game__ball")&&(A=setInterval((()=>{x()}),30),document.querySelector(".game__ball").classList.add("_anim")),t.closest(".weapons__rocket")&&sessionStorage.getItem("rocket")>0&&(document.querySelector(".weapons__rocket").classList.add("_no-active"),function(){let e=document.querySelectorAll(".game__element"),t=document.createElement("div");t.classList.add("game__rocket"),t.classList.add("_active");let s=document.createElement("img");s.setAttribute("src","img/icons/rocket.svg"),s.setAttribute("alt","Image"),t.append(s),I.append(t);let o=setInterval((()=>{T+=-10,t.style.top=`${T}px`,T<-1200&&(clearInterval(o),t.style.top="0%",T=0,t.remove());for(let s=0;s<e.length;s++){let o=t.getBoundingClientRect().left,n=t.getBoundingClientRect().left+10,i=t.getBoundingClientRect().top,a=t.getBoundingClientRect().top+10,l=e[s].getBoundingClientRect().left,r=e[s].getBoundingClientRect().left+S,c=e[s].getBoundingClientRect().top,d=e[s].getBoundingClientRect().top+L;n>l&&i<d&&o<r&&a>c&&(e[s].classList.add("_hide"),e[s].dataset.destroy=1)}}),10),n=+sessionStorage.getItem("rocket");n--,sessionStorage.setItem("rocket",n),setTimeout((()=>{sessionStorage.getItem("rocket")>0&&document.querySelector(".weapons__rocket").classList.remove("_no-active")}),1e3)}(),setTimeout((()=>{M()}),1500)),t.closest(".weapons__bomb")&&(document.querySelector(".weapons__bomb").classList.add("_no-active"),function(){let e=document.querySelectorAll(".game__element"),t=document.createElement("div");t.classList.add("game__bomb"),t.classList.add("_active");let s=document.createElement("img");s.setAttribute("src","img/icons/bomb.svg"),s.setAttribute("alt","Image"),t.append(s);let o=R(5,80),n=R(5,50);t.style.left=`${o}%`,t.style.top=`${n}%`,f.append(t);for(let s=0;s<e.length;s++){let o=t.getBoundingClientRect().left,n=t.getBoundingClientRect().left+50,i=t.getBoundingClientRect().top,a=t.getBoundingClientRect().top+70,l=e[s].getBoundingClientRect().left,r=e[s].getBoundingClientRect().left+S,c=e[s].getBoundingClientRect().top,d=e[s].getBoundingClientRect().top+L;n>l&&i<d&&o<r&&a>c&&(e[s].classList.add("_hide"),e[s].dataset.destroy=1)}let i=+sessionStorage.getItem("bomb");i--,sessionStorage.setItem("bomb",i),setTimeout((()=>{sessionStorage.getItem("bomb")>0&&document.querySelector(".weapons__bomb").classList.remove("_no-active"),t.remove()}),1e3)}(),setTimeout((()=>{M()}),1500)),t.closest(".weapons__ball")&&(document.querySelector(".weapons__ball").classList.add("_no-active"),function(){let e=document.querySelectorAll(".game__element"),t=document.createElement("div");t.classList.add("game__ball-two"),t.classList.add("_active");let s=document.createElement("img");s.setAttribute("src","img/icons/ball-2.svg"),s.setAttribute("alt","Image"),t.append(s);let o=R(5,50);t.style.top=`${o}%`,f.append(t);let n=setInterval((()=>{k+=10,t.style.right=`${k}px`,k>500&&(clearInterval(n),t.style.right="0%",k=0,t.remove());for(let s=0;s<e.length;s++){let o=t.getBoundingClientRect().left,n=t.getBoundingClientRect().left+10,i=t.getBoundingClientRect().top,a=t.getBoundingClientRect().top+10,l=e[s].getBoundingClientRect().left,r=e[s].getBoundingClientRect().left+S,c=e[s].getBoundingClientRect().top,d=e[s].getBoundingClientRect().top+L;n>l&&i<d&&o<r&&a>c&&(e[s].classList.add("_hide"),e[s].dataset.destroy=1)}}),10),i=+sessionStorage.getItem("ball");i--,sessionStorage.setItem("ball",i),setTimeout((()=>{sessionStorage.getItem("ball")>0&&document.querySelector(".weapons__ball").classList.remove("_no-active")}),1e3)}(),setTimeout((()=>{M()}),1500))})),document.addEventListener("touchstart",(function(e){if(e.target.closest(".game__platform")){let t=e.touches[0];b=t.clientX,p=t.clientY}}),!1),document.addEventListener("touchmove",(function(e){if(!b||!p)return!1;let t=e.touches[0].clientX-b;const s=document.querySelector(".game__platform"),o=window.getComputedStyle(s);let n=parseInt(o.left,10);t>0?v[0]<_-270&&(v[0]+=25,w()):n>0&&(v[0]-=25,w())}),!1);const _=document.documentElement.clientWidth;document.documentElement.clientHeight;let b=null,p=null;const S=47,L=52,f=document.querySelector(".game__body"),y=document.querySelector(".game__ball"),I=document.querySelector(".game__platform");let v=[16,5];let h=[49,10];let A,q=1,C=1;function w(){document.querySelector(".game__platform").style.left=`${v[0]}px`}function B(){return 7e3/_}let T=0;function R(e,t){return Math.floor(Math.random()*(t-e)+e)}let k=0;function M(){let e=document.querySelectorAll(".game__element"),t=0;e.forEach((e=>{0==e.dataset.destroy&&t++})),t<=0&&(clearInterval(A),document.querySelector(".play").classList.add("_active"),document.querySelector(".game_one")?sessionStorage.setItem("game-one",!0):document.querySelector(".game_two")?sessionStorage.setItem("game-two",!0):document.querySelector(".game_three")&&sessionStorage.setItem("game-three",!0))}function E(){let e=document.querySelector(".game__ball"),t=e.getBoundingClientRect().left,s=e.getBoundingClientRect().top,o=document.querySelector(".game__platform").getBoundingClientRect().left,n=document.querySelectorAll(".game__element_fruit"),i=document.querySelectorAll(".game__element_flower"),a=document.querySelectorAll(".game__element_lemon"),l=document.querySelectorAll(".game__element_orange"),r=document.querySelectorAll(".game__element_bag");if(M(),n)for(let e=0;e<n.length;e++){let o=n[e].getBoundingClientRect().left,i=n[e].getBoundingClientRect().left+S,a=n[e].getBoundingClientRect().top,l=n[e].getBoundingClientRect().top+L;t+S>o&&s<l&&t<i&&s+L>a&&(n[e].classList.add("_hide"),n[e].dataset.destroy=1,s<=l&&1===C&&n[e].classList.contains("_hide")?C=-1:1===q&&1===C&&n[e].classList.contains("_hide")?q=-1:-1===q&&1===C&&n[e].classList.contains("_hide")?q=1:-1===C&&1===q&&n[e].classList.contains("_hide"))}if(i)for(let e=0;e<i.length;e++){let o=i[e].getBoundingClientRect().left,n=i[e].getBoundingClientRect().left+S,a=i[e].getBoundingClientRect().top,l=i[e].getBoundingClientRect().top+L;t+S>o&&s<l&&t<n&&s+L>a&&(i[e].classList.add("_hide"),i[e].dataset.destroy=1,s<=l&&1===C&&i[e].classList.contains("_hide")?C=-1:1===q&&1===C&&i[e].classList.contains("_hide")?q=-1:-1===q&&1===C&&i[e].classList.contains("_hide")?q=1:-1===C&&1===q&&i[e].classList.contains("_hide"))}if(a)for(let e=0;e<a.length;e++){let o=a[e].getBoundingClientRect().left,n=a[e].getBoundingClientRect().left+S,i=a[e].getBoundingClientRect().top,l=a[e].getBoundingClientRect().top+L;t+S>o&&s<l&&t<n&&s+L>i&&(a[e].style.opacity="0",a[e].dataset.destroy=1,a[e].classList.add("_hide"),s<=l&&1===C&&a[e].classList.contains("_hide")?C=-1:1===q&&1===C&&a[e].classList.contains("_hide")?q=-1:t<=n&&-1===q&&1===C&&a[e].classList.contains("_hide")?q=1:-1===C&&1===q&&a[e].classList.contains("_hide"))}if(l)for(let e=0;e<l.length;e++){let o=l[e].getBoundingClientRect().left,n=l[e].getBoundingClientRect().left+S,i=l[e].getBoundingClientRect().top,a=l[e].getBoundingClientRect().top+L;t+S>o&&s<a&&t<n&&s+L>i&&(l[e].style.opacity="0",l[e].dataset.destroy=1,l[e].classList.add("_hide"),s<=a&&1===C&&l[e].classList.contains("_hide")?C=-1:1===q&&1===C&&l[e].classList.contains("_hide")?q=-1:t<=n&&-1===q&&1===C&&l[e].classList.contains("_hide")?q=1:-1===C&&1===q&&l[e].classList.contains("_hide"))}if(r)for(let e=0;e<r.length;e++){let o=r[e].getBoundingClientRect().left,n=r[e].getBoundingClientRect().left+S,i=r[e].getBoundingClientRect().top,a=r[e].getBoundingClientRect().top+L;t+S>o&&s<a&&t<n&&s+L>i&&(r[e].style.opacity="0",r[e].dataset.destroy=1,r[e].classList.add("_hide"),s<=a&&1===C&&r[e].classList.contains("_hide")?C=-1:1===q&&1===C&&r[e].classList.contains("_hide")?q=-1:t<=n&&-1===q&&1===C&&r[e].classList.contains("_hide")?q=1:-1===C&&1===q&&r[e].classList.contains("_hide"))}if((h[0]>=100-B()||h[1]>=100-B()||h[0]<=0||h[1]<=0)&&function(){let e=document.querySelector(".game__ball"),t=e.getBoundingClientRect().left,s=e.getBoundingClientRect().top;t+70>=_?q=-1:t<=0?q=1:s<=70&&(C=-1)}(),h[1]<=0){clearInterval(A),y.classList.add("_hide");let e=+document.querySelector(".header-wrapper_lifes").innerHTML;e<=0?document.querySelector(".loose").classList.add("_active"):(e--,setTimeout((()=>{document.querySelector(".header-wrapper_lifes").textContent=e,y.style.left="42%",y.style.bottom="10%",h=[42,10],setTimeout((()=>{y.classList.remove("_hide")}),500),setTimeout((()=>{A=setInterval((()=>{x()}),30)}),1e3)}),500))}t+70>=o+50&&t+70<=o+270&&h[1]<=10&&(C=1)}function x(){h[0]+=q,h[1]+=C,y.style.left=h[0]+"%",y.style.bottom=h[1]+"%",E()}sessionStorage.getItem("game-two")&&document.querySelectorAll(".levels__button").forEach((e=>{e.classList.contains("_hide")&&e.classList.remove("_hide")}));let H=[];function z(){let e=Math.floor(5*Math.random()+0);return H.push(e),H.length<3?z():H}function $(){return[10,50,30,10,200,100][Math.floor(6*Math.random()+0)]}function P(){return[1,1,2,6,5,3][Math.floor(6*Math.random()+0)]}window.FLS=!0,function(e){let t=new Image;t.onload=t.onerror=function(){e(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}((function(e){let t=!0===e?"webp":"no-webp";document.documentElement.classList.add(t)})),function(){if(document.querySelectorAll("[data-fullscreen]").length&&e.any()){function e(){let e=.01*window.innerHeight;document.documentElement.style.setProperty("--vh",`${e}px`)}window.addEventListener("resize",e),e()}}()})();