(()=>{"use strict";let e=!1;setTimeout((()=>{if(e){let e=new Event("windowScroll");window.addEventListener("scroll",(function(t){document.dispatchEvent(e)}))}}),0),function e(t,n,s){function i(a,l){if(!n[a]){if(!t[a]){var r="function"==typeof require&&require;if(!l&&r)return r(a,!0);if(o)return o(a,!0);throw(r=new Error("Cannot find module '"+a+"'")).code="MODULE_NOT_FOUND",r}r=n[a]={exports:{}},t[a][0].call(r.exports,(function(e){return i(t[a][1][e]||e)}),r,r.exports,e,t,n,s)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<s.length;a++)i(s[a]);return i}({1:[function(e,t,n){window.SlotMachine=e("./slot-machine")},{"./slot-machine":3}],2:[function(e,t,n){var s=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame;t.exports=function(e){setTimeout((function(){return s(e)}),1<arguments.length&&void 0!==arguments[1]?arguments[1]:0)}},{}],3:[function(e,t,n){var s=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e};function i(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}var o=e("./timer"),a=e("./raf"),l={active:0,delay:200,auto:!1,spins:5,randomize:null,onComplete:null,inViewport:!0,direction:"up",transition:"ease-in-out"},r="slotMachineNoTransition",c="slotMachineBlurFast",u="slotMachineBlurMedium",m="slotMachineBlurSlow",d="slotMachineBlurTurtle",_="slotMachineGradient",g=_;s(h,[{key:"changeSettings",value:function(e){var t=this;Object.keys(e).forEach((function(n){t[n]=e[n]}))}},{key:"_wrapTiles",value:function(){var e=this;this.container=document.createElement("div"),this.container.classList.add("slotMachineContainer"),this.container.style.transition="1s ease-in-out",this.element.appendChild(this.container),this._fakeFirstTile=this.tiles[this.tiles.length-1].cloneNode(!0),this.container.appendChild(this._fakeFirstTile),this.tiles.forEach((function(t){e.container.appendChild(t)})),this._fakeLastTile=this.tiles[0].cloneNode(!0),this.container.appendChild(this._fakeLastTile)}},{key:"_setBounds",value:function(){var e=this.getTileOffset(this.active),t=this.getTileOffset(this.tiles.length),n=this.getTileOffset(this.tiles.length);this._bounds={up:{key:"up",initial:e,first:0,last:n,to:this._maxTop,firstToLast:n,lastToFirst:0},down:{key:"down",initial:e,first:t,last:0,to:this._minTop,firstToLast:n,lastToFirst:0}}}},{key:"_changeTransition",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.delay,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.transition;this.container.style.transition=e/1e3+"s "+t}},{key:"_changeTransform",value:function(e){this.container.style.transform="matrix(1, 0, 0, 1, 0, "+e+")"}},{key:"_isGoingBackward",value:function(){return this.nextActive>this.active&&0===this.active&&this.nextActive===this.tiles.length-1}},{key:"_isGoingForward",value:function(){return this.nextActive<=this.active&&this.active===this.tiles.length-1&&0===this.nextActive}},{key:"getTileOffset",value:function(e){for(var t=0,n=0;n<e;n++)t+=this.tiles[n].offsetHeight;return this._minTop-t}},{key:"_resetPosition",value:function(e){this.container.classList.toggle(r),this._changeTransform(isNaN(e)?this.bounds.initial:e),this.container.offsetHeight,this.container.classList.toggle(r)}},{key:"prev",value:function(){return this.nextActive=this.prevIndex,this.running=!0,this.stop(),this.nextActive}},{key:"next",value:function(){return this.nextActive=this.nextIndex,this.running=!0,this.stop(),this.nextActive}},{key:"_getDelayFromSpins",value:function(e){var t=this.delay;switch(this.transition="linear",e){case 1:t/=.5,this.transition="ease-out",this._animationFX=d;break;case 2:t/=.75,this._animationFX=m;break;case 3:t/=1,this._animationFX=u;break;case 4:t/=1.25,this._animationFX=u;break;default:t/=1.5,this._animationFX=c}return t}},{key:"shuffle",value:function(e,t){var n,s=this;return"function"==typeof e&&(t=e),this.running=!0,this.visible||!0!==this.inViewport?(n=this._getDelayFromSpins(e),this._changeTransition(n),this._changeTransform(this.bounds.to),a((function(){var n;!s.stopping&&s.running&&(n=e-1,s._resetPosition(s.bounds.first),1<n?s.shuffle(n,t):s.stop(t))}),n)):this.stop(t),this.nextActive}},{key:"stop",value:function(e){var t=this;if(!this.running||this.stopping)return this.nextActive;this.running=!0,this.stopping=!0,Number.isInteger(this.nextActive)||(this.nextActive=this.custom),this._isGoingBackward()?this._resetPosition(this.bounds.firstToLast):this._isGoingForward()&&this._resetPosition(this.bounds.lastToFirst),this.active=this.nextActive;var n=this._getDelayFromSpins(1);return this._changeTransition(n),this._animationFX=g,this._changeTransform(this.getTileOffset(this.active)),a((function(){t.stopping=!1,t.running=!1,t.nextActive=null,"function"==typeof t.onComplete&&t.onComplete(t.active),"function"==typeof e&&e.apply(t,[t.active])}),n),this.active}},{key:"run",value:function(){var e=this;this.running||(this._timer=new o((function(){e.visible||!0!==e.inViewport?e.shuffle(e.spins,(function(){e._timer.reset()})):a((function(){e._timer.reset()}),500)}),this.auto))}},{key:"destroy",value:function(){var e=this;this._fakeFirstTile.remove(),this._fakeLastTile.remove(),this.tiles.forEach((function(t){e.element.appendChild(t)})),this.container.remove()}},{key:"active",get:function(){return this._active},set:function(e){((e=Number(e))<0||e>=this.tiles.length||isNaN(e))&&(e=0),this._active=e}},{key:"direction",get:function(){return this._direction},set:function(e){this.running||(this._direction="down"===e?"down":"up")}},{key:"bounds",get:function(){return this._bounds[this._direction]}},{key:"transition",get:function(){return this._transition},set:function(e){this._transition=e||"ease-in-out"}},{key:"visibleTile",get:function(){var e=this.tiles[0].offsetHeight,t=this.container.style.transform||"";t=parseInt(t.replace(/^matrix\(-?\d+,\s?-?\d+,\s?-?\d+,\s?-?\d+,\s?-?\d+,\s?(-?\d+)\)$/,"$1"),10);return Math.abs(Math.round(t/e))-1}},{key:"random",get:function(){return Math.floor(Math.random()*this.tiles.length)}},{key:"custom",get:function(){var e;return this.randomize?(((e=this.randomize(this.active))<0||e>=this.tiles.length)&&(e=0),e):this.random}},{key:"_prevIndex",get:function(){var e=this.active-1;return e<0?this.tiles.length-1:e}},{key:"_nextIndex",get:function(){var e=this.active+1;return e<this.tiles.length?e:0}},{key:"prevIndex",get:function(){return"up"===this.direction?this._nextIndex:this._prevIndex}},{key:"nextIndex",get:function(){return"up"===this.direction?this._prevIndex:this._nextIndex}},{key:"visible",get:function(){var e=this.element.getBoundingClientRect(),t=window.innerHeight||document.documentElement.clientHeight,n=window.innerWidth||document.documentElement.clientWidth;t=e.top<=t&&0<=e.top+e.height,e=e.left<=n&&0<=e.left+e.width;return t&&e}},{key:"_animationFX",set:function(e){var t=this,n=this.delay/4;a((function(){[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(t.tiles),[t._fakeLastTile,t._fakeFirstTile]).forEach((function(t){t.classList.remove(c,u,m,d),e!==g&&t.classList.add(e)})),e===g?t.container.classList.remove(_):t.container.classList.add(_)}),n)}}]),s=h;function h(e,t){!function(e){if(!(e instanceof h))throw new TypeError("Cannot call a class as a function")}(this),this.element=e,this.tiles=[].slice.call(this.element.children),this.running=!1,this.stopping=!1,this.element.style.overflow="hidden",this._wrapTiles(),this._minTop=-this._fakeFirstTile.offsetHeight,this._maxTop=-this.tiles.reduce((function(e,t){return e+t.offsetHeight}),0),this.changeSettings(Object.assign({},l,t)),this._setBounds(),this._resetPosition(),!1!==this.auto&&this.run()}t.exports=s},{"./raf":2,"./timer":4}],4:[function(e,t,n){function s(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}function i(e,t){return function(e){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}(this),this.cb=e,this.initialDelay=t,this.delay=t,this.startTime=null,this.timer=null,this.running=!1,this.resume(),this}t.exports=(function(e,t,n){t&&s(e.prototype,t),n&&s(e,n)}(i,[{key:"_start",value:function(){var e=this;this.timer=setTimeout((function(){e.running=!1,e.cb(e)}),this.delay)}},{key:"cancel",value:function(){this.running=!1,clearTimeout(this.timer)}},{key:"pause",value:function(){this.running&&(this.delay-=(new Date).getTime()-this.startTime,this.cancel())}},{key:"resume",value:function(){this.running||(this.running=!0,this.startTime=(new Date).getTime(),this._start())}},{key:"reset",value:function(){this.cancel(),this.delay=this.initialDelay,this._start()}},{key:"add",value:function(e){this.pause(),this.delay+=e,this.resume()}}]),i)},{}]},{},[1]),window.addEventListener("load",(function(){document.querySelector("body")&&setTimeout((function(){document.querySelector("body").classList.add("_loaded")}),200)})),sessionStorage.getItem("preloader")&&(document.querySelector(".preloader")&&document.querySelector(".preloader").classList.add("_hide"),document.querySelector(".wrapper").classList.add("_visible"));const t=()=>{document.documentElement.style.setProperty("--app-height",`${window.innerHeight}px`)};window.addEventListener("resize",t),t(),document.querySelector(".game")&&(document.querySelector("html").classList.add("_game"),document.querySelector("body").classList.add("_game"));const n=document.querySelector(".preloader__dots"),s=document.querySelector(".preloader"),i=document.querySelectorAll(".acces-preloader__text-hide"),o=document.querySelector(".acces-preloader__button"),a=document.querySelector(".acces-preloader__button_back"),l=document.querySelector(".wrapper"),r=document.querySelector(".header-wrapper__pause"),c=document.querySelector(".game"),u=document.querySelector(".pause");let m=document.querySelector(".header-wrapper__count_points"),d=document.querySelector(".header-wrapper__count_time"),_=document.querySelector(".weapons__count_bomb"),g=document.querySelector(".weapons__count_ball"),h=document.querySelector(".weapons__count_rocket");sessionStorage.getItem("monets")&&(m.textContent=sessionStorage.getItem("monets")),sessionStorage.getItem("coins")&&(d.textContent=sessionStorage.getItem("coins")),sessionStorage.getItem("rocket")>0&&document.querySelector(".weapons__rocket")&&(document.querySelector(".weapons__rocket").classList.remove("_no-active"),h.textContent=sessionStorage.getItem("rocket")),sessionStorage.getItem("bomb")>0&&document.querySelector(".weapons__bomb")&&(document.querySelector(".weapons__bomb").classList.remove("_no-active"),_.textContent=sessionStorage.getItem("bomb")),sessionStorage.getItem("ball")>0&&document.querySelector(".weapons__ball")&&(document.querySelector(".weapons__ball").classList.remove("_no-active"),g.textContent=sessionStorage.getItem("ball")),c&&r.classList.add("_visible"),document.addEventListener("click",(e=>{let t=e.target;if(t.closest(".acces-preloader__button")&&(s.classList.add("_hide"),sessionStorage.setItem("preloader",!0),l.classList.add("_visible")),t.closest(".preloader__dots-target")&&(n.classList.add("_hide"),i.forEach((e=>{e.classList.add("_visible")})),o.classList.add("_hide"),a.classList.add("_visible")),t.closest(".acces-preloader__button_back")&&(n.classList.remove("_hide"),i.forEach((e=>{e.classList.remove("_visible")})),o.classList.remove("_hide"),a.classList.remove("_visible")),t.closest(".bonus__button")&&(document.querySelector(".bonus__image").classList.add("_anim"),document.querySelector(".bonus__button").classList.add("_hide"),setTimeout((()=>{!function(){let e=G(),t=document.createElement("div");t.classList.add("bonus__item");let n=document.createElement("div");n.classList.add("bonus__item"),n.classList.add("bonus__item_two");let s=document.createElement("div");s.classList.add("bonus__item"),s.classList.add("bonus__item_three");let i=document.createElement("img"),o=document.createElement("img"),a=document.createElement("img"),l=document.createElement("div"),r=document.createElement("div"),c=document.createElement("div");if(0==e[0])P(),$(i,"ball-2",t,"one");else if(1==e[0])X(),$(i,"bomb",t,"one");else if(2==e[0]){l.classList.add("bonus__text");let e=j();l.textContent=`+${e}`,O(e),$(i,"dot",t,"one",l)}else if(3==e[0])D(),$(i,"rocket",t,"one");else if(4==e[0]){l.classList.add("bonus__text");let e=W();l.textContent=`+${e}`,N(e),$(i,"romb",t,"one",l)}if(0==e[1])P(),$(o,"ball-2",n,"two");else if(1==e[1])X(),$(o,"bomb",n,"two");else if(2==e[1]){r.classList.add("bonus__text"),r.classList.add("bonus__text_small");let e=j();r.textContent=`+${e}`,O(e),$(o,"dot",n,"two",r)}else if(3==e[1])D(),$(o,"rocket",n,"two");else if(4==e[1]){r.classList.add("bonus__text"),r.classList.add("bonus__text_small");let e=W();r.textContent=`+${e}`,N(e),$(o,"romb",n,"two",r)}if(0==e[2])console.log("0"),P(),$(a,"ball-2",s,"three");else if(1==e[2])console.log("1"),X(),$(a,"bomb",s,"three");else if(2==e[2]){console.log("2"),c.classList.add("bonus__text"),c.classList.add("bonus__text_small");let e=j();c.textContent=`+${e}`,O(e),$(a,"dot",s,"three",c)}else if(3==e[2])console.log("3"),D(),$(a,"rocket",s,"three");else if(4==e[2]){console.log("4"),c.classList.add("bonus__text"),c.classList.add("bonus__text_small");let e=W();c.textContent=`+${e}`,N(e),$(a,"romb",s,"three",c)}}()}),1e3)),t.closest(".shop__item_ball"))if(+m.innerHTML>=9e4)if(document.querySelector(".shop__icon_ball").classList.add("_anim"),document.querySelector(".shop__item_ball").classList.add("_hide"),setTimeout((()=>{document.querySelector(".shop__icon_ball").classList.remove("_anim"),document.querySelector(".shop__item_ball").classList.remove("_hide")}),1500),setTimeout((()=>{m.innerHTML=+m.innerHTML-9e4,sessionStorage.setItem("monets",m.innerHTML),m.classList.add("_buy"),setTimeout((()=>{m.classList.remove("_buy")}),500)}),200),sessionStorage.getItem("ball")){let e=+sessionStorage.getItem("ball");sessionStorage.setItem("ball",e+1)}else sessionStorage.setItem("ball",1);else m.classList.add("_no-money"),setTimeout((()=>{m.classList.remove("_no-money")}),1e3);if(t.closest(".shop__item_bomb"))if(+d.innerHTML>=50)if(document.querySelector(".shop__icon_bomb").classList.add("_anim"),document.querySelector(".shop__item_bomb").classList.add("_hide"),setTimeout((()=>{document.querySelector(".shop__icon_bomb").classList.remove("_anim"),document.querySelector(".shop__item_bomb").classList.remove("_hide")}),1500),setTimeout((()=>{d.innerHTML=+d.innerHTML-50,sessionStorage.setItem("coins",d.innerHTML),d.classList.add("_buy"),setTimeout((()=>{d.classList.remove("_buy")}),500)}),200),sessionStorage.getItem("bomb")){let e=+sessionStorage.getItem("bomb");sessionStorage.setItem("bomb",e+1)}else sessionStorage.setItem("bomb",1);else d.classList.add("_no-money"),setTimeout((()=>{d.classList.remove("_no-money")}),1e3);if(t.closest(".shop__item_rocket"))if(+m.innerHTML>=200)if(document.querySelector(".shop__icon_rocket").classList.add("_anim"),document.querySelector(".shop__item_rocket").classList.add("_hide"),setTimeout((()=>{document.querySelector(".shop__icon_rocket").classList.remove("_anim"),document.querySelector(".shop__item_rocket").classList.remove("_hide")}),1500),setTimeout((()=>{m.innerHTML=+m.innerHTML-200,sessionStorage.setItem("monets",m.innerHTML),m.classList.add("_buy"),setTimeout((()=>{m.classList.remove("_buy")}),500)}),200),sessionStorage.getItem("rocket")){let e=+sessionStorage.getItem("rocket");sessionStorage.setItem("rocket",e+1)}else sessionStorage.setItem("rocket",1);else m.classList.add("_no-money"),setTimeout((()=>{m.classList.remove("_no-money")}),1e3);t.closest(".header-wrapper__pause")&&(r.classList.contains("_active")?(r.classList.remove("_active"),c.classList.remove("_hide"),u.classList.remove("_active"),C=setInterval((()=>{F()}),30)):(r.classList.add("_active"),c.classList.add("_hide"),u.classList.add("_active"),clearInterval(C))),t.closest(".pause__item_continue")&&(r.classList.remove("_active"),c.classList.remove("_hide"),u.classList.remove("_active"),C=setInterval((()=>{F()}),30)),t.closest(".button_start")&&(sessionStorage.getItem("game-one")||sessionStorage.getItem("game-two")||sessionStorage.getItem("game-three")?location.href="levels.html":location.href="game.html"),t.closest(".game__ball")&&(C=setInterval((()=>{F()}),30),document.querySelector(".game__ball").classList.add("_anim")),t.closest(".weapons__rocket")&&sessionStorage.getItem("rocket")>0&&(document.querySelector(".weapons__rocket").classList.add("_no-active"),function(){let e=document.querySelectorAll(".game__element"),t=document.createElement("div");t.classList.add("game__rocket"),t.classList.add("_active");let n=document.createElement("img");n.setAttribute("src","img/icons/rocket.svg"),n.setAttribute("alt","Image"),t.append(n),T.append(t);let s=setInterval((()=>{A+=-10,t.style.top=`${A}px`,A<-1200&&(clearInterval(s),t.style.top="0%",A=0,t.remove());for(let n=0;n<e.length;n++){let s=t.getBoundingClientRect().left,i=t.getBoundingClientRect().left+10,o=t.getBoundingClientRect().top,a=t.getBoundingClientRect().top+10,l=e[n].getBoundingClientRect().left,r=e[n].getBoundingClientRect().left+y,c=e[n].getBoundingClientRect().top,u=e[n].getBoundingClientRect().top+b;i>l&&o<u&&s<r&&a>c&&(e[n].classList.add("_hide"),e[n].dataset.destroy=1)}}),10),i=+sessionStorage.getItem("rocket");i--,sessionStorage.setItem("rocket",i),h.textContent=sessionStorage.getItem("rocket"),setTimeout((()=>{sessionStorage.getItem("rocket")>0&&document.querySelector(".weapons__rocket").classList.remove("_no-active")}),1e3)}(),setTimeout((()=>{E()}),1500)),t.closest(".weapons__bomb")&&(document.querySelector(".weapons__bomb").classList.add("_no-active"),function(){let e=document.querySelectorAll(".game__element"),t=document.createElement("div");t.classList.add("game__bomb"),t.classList.add("_active");let n=document.createElement("img");n.setAttribute("src","img/icons/bomb.svg"),n.setAttribute("alt","Image"),t.append(n);let s=M(5,80),i=M(5,50);t.style.left=`${s}%`,t.style.top=`${i}%`,L.append(t);for(let n=0;n<e.length;n++){let s=t.getBoundingClientRect().left,i=t.getBoundingClientRect().left+50,o=t.getBoundingClientRect().top,a=t.getBoundingClientRect().top+70,l=e[n].getBoundingClientRect().left,r=e[n].getBoundingClientRect().left+y,c=e[n].getBoundingClientRect().top,u=e[n].getBoundingClientRect().top+b;i>l&&o<u&&s<r&&a>c&&(e[n].classList.add("_hide"),e[n].dataset.destroy=1)}let o=+sessionStorage.getItem("bomb");o--,sessionStorage.setItem("bomb",o),_.textContent=sessionStorage.getItem("bomb"),setTimeout((()=>{sessionStorage.getItem("bomb")>0&&document.querySelector(".weapons__bomb").classList.remove("_no-active"),t.remove()}),1e3)}(),setTimeout((()=>{E()}),1500)),t.closest(".weapons__ball")&&(document.querySelector(".weapons__ball").classList.add("_no-active"),function(){let e=document.querySelectorAll(".game__element"),t=document.createElement("div");t.classList.add("game__ball-two"),t.classList.add("_active");let n=document.createElement("img");n.setAttribute("src","img/icons/ball-2.svg"),n.setAttribute("alt","Image"),t.append(n);let s=M(5,50);t.style.top=`${s}%`,L.append(t);let i=setInterval((()=>{R+=10,t.style.right=`${R}px`,R>500&&(clearInterval(i),t.style.right="0%",R=0,t.remove());for(let n=0;n<e.length;n++){let s=t.getBoundingClientRect().left,i=t.getBoundingClientRect().left+10,o=t.getBoundingClientRect().top,a=t.getBoundingClientRect().top+10,l=e[n].getBoundingClientRect().left,r=e[n].getBoundingClientRect().left+y,c=e[n].getBoundingClientRect().top,u=e[n].getBoundingClientRect().top+b;i>l&&o<u&&s<r&&a>c&&(e[n].classList.add("_hide"),e[n].dataset.destroy=1)}}),10),o=+sessionStorage.getItem("ball");o--,sessionStorage.setItem("ball",o),g.textContent=sessionStorage.getItem("ball"),setTimeout((()=>{sessionStorage.getItem("ball")>0&&document.querySelector(".weapons__ball").classList.remove("_no-active")}),1e3)}(),setTimeout((()=>{E()}),1500))})),document.addEventListener("touchstart",(function(e){if(e.target.closest(".game__platform")){let t=e.touches[0];p=t.clientX,v=t.clientY}}),!1),document.addEventListener("touchmove",(function(e){if(!p||!v)return!1;let t=e.touches[0].clientX-p;const n=document.querySelector(".game__platform"),s=window.getComputedStyle(n);let i=parseInt(s.left,10);t>0?w[0]<f-270&&(w[0]+=25,B()):i>0&&(w[0]-=25,B())}),!1);const f=document.documentElement.clientWidth;document.documentElement.clientHeight;let p=null,v=null;const y=47,b=52,L=document.querySelector(".game__body"),S=document.querySelector(".game__ball"),T=document.querySelector(".game__platform");let w=[16,5];let I=[42,10];const k=70;let C,q=1.2,x=1.2;function B(){document.querySelector(".game__platform").style.left=`${w[0]}px`}let A=0;function M(e,t){return Math.floor(Math.random()*(t-e)+e)}let R=0;function E(){let e=document.querySelectorAll(".game__element"),t=0;e.forEach((e=>{0==e.dataset.destroy&&t++})),t<=0&&(clearInterval(C),document.querySelector(".game_one")?setTimeout((()=>{m.textContent=+m.innerHTML+1e3,d.textContent=+d.innerHTML+50,sessionStorage.setItem("monets",m.innerHTML),sessionStorage.setItem("coins",d.innerHTML),m.classList.add("_anim"),d.classList.add("_anim"),setTimeout((()=>{m.classList.remove("_anim"),d.classList.remove("_anim")}),1e3)}),500):document.querySelector(".game_two")&&setTimeout((()=>{m.textContent=+m.innerHTML+5e3,d.textContent=+d.innerHTML+150,sessionStorage.setItem("monets",m.innerHTML),sessionStorage.setItem("coins",d.innerHTML),m.classList.add("_anim"),d.classList.add("_anim"),setTimeout((()=>{m.classList.remove("_anim"),d.classList.remove("_anim")}),1e3)}),500),document.querySelector(".game_three")&&setTimeout((()=>{m.textContent=+m.innerHTML+1e4,d.textContent=+d.innerHTML+250,sessionStorage.setItem("monets",m.innerHTML),sessionStorage.setItem("coins",d.innerHTML),m.classList.add("_anim"),d.classList.add("_anim"),setTimeout((()=>{m.classList.remove("_anim"),d.classList.remove("_anim")}),1e3)}),500),setTimeout((()=>{document.querySelector(".play").classList.add("_active")}),1e3),document.querySelector(".game_one")?sessionStorage.setItem("game-one",!0):document.querySelector(".game_two")?sessionStorage.setItem("game-two",!0):document.querySelector(".game_three")&&sessionStorage.setItem("game-three",!0))}function H(){let e=document.querySelector(".game__ball"),t=e.getBoundingClientRect().left,n=e.getBoundingClientRect().top,s=document.querySelector(".game__platform").getBoundingClientRect().left,i=document.querySelectorAll(".game__element_fruit"),o=document.querySelectorAll(".game__element_flower"),a=document.querySelectorAll(".game__element_lemon"),l=document.querySelectorAll(".game__element_orange"),r=document.querySelectorAll(".game__element_bag");if(E(),i)for(let e=0;e<i.length;e++){let s=i[e].getBoundingClientRect().left,o=i[e].getBoundingClientRect().left+y,a=i[e].getBoundingClientRect().top,l=i[e].getBoundingClientRect().top+b;t+k>s&&n<l&&t<o&&n+k>a&&(i[e].classList.add("_hide"),i[e].dataset.destroy=1,1.2==x&&n<=l?x=-1.2:1.2==x&&t<=o&&n+k>a||-1.2==x&&t<=o&&n+k?q=1.2:-1.2==x&&n+k+10>=a?x=1.2:(1.2==x&&t+k>s||-1.2==x&&t+k>s)&&(q=-1.2))}if(o)for(let e=0;e<o.length;e++){let s=o[e].getBoundingClientRect().left,i=o[e].getBoundingClientRect().left+y,a=o[e].getBoundingClientRect().top,l=o[e].getBoundingClientRect().top+b;t+k>s&&n<l&&t<i&&n+k>a&&(o[e].classList.add("_hide"),o[e].dataset.destroy=1,1.2==x&&n<=l||1.2==x&&n<=l?x=-1.2:-1.2==q&&1.2==x&&t<=i||-1.2==q&&-1.2==x&&t<=i?q=1.2:-1.2==x&&n+k>=a?x=1.2:1.2==q&&t+k>s&&(q=-1.2))}if(a)for(let e=0;e<a.length;e++){let s=a[e].getBoundingClientRect().left,i=a[e].getBoundingClientRect().left+y,o=a[e].getBoundingClientRect().top,l=a[e].getBoundingClientRect().top+b;t+k>s&&n<l&&t<i&&n+k>o&&(a[e].style.opacity="0",a[e].dataset.destroy=1,a[e].classList.add("_hide"),1.2==x&&n<=l?x=-1.2:1.2==x&&t<=i||-1.2==x&&t<=i?q=1.2:-1.2==x&&n+k+10>=o?x=1.2:(1.2==x&&t+k>s||-1.2==x&&t+k>s)&&(q=-1.2))}if(l)for(let e=0;e<l.length;e++){let s=l[e].getBoundingClientRect().left,i=l[e].getBoundingClientRect().left+y,o=l[e].getBoundingClientRect().top,a=l[e].getBoundingClientRect().top+b;t+k>s&&n<a&&t<i&&n+k>o&&(l[e].style.opacity="0",l[e].dataset.destroy=1,l[e].classList.add("_hide"),1.2==x&&n<=a?x=-1.2:1.2==x&&t<=i||-1.2==x&&t<=i?q=1.2:-1.2==x&&n+k+10>=o?x=1.2:(1.2==x&&t+k>s||-1.2==x&&t+k>s)&&(q=-1.2))}if(r)for(let e=0;e<r.length;e++){let s=r[e].getBoundingClientRect().left,i=r[e].getBoundingClientRect().left+y,o=r[e].getBoundingClientRect().top,a=r[e].getBoundingClientRect().top+b;t+k>s&&n<a&&t<i&&n+k>o&&(r[e].style.opacity="0",r[e].dataset.destroy=1,r[e].classList.add("_hide"),1.2==x&&n<=a?x=-1.2:1.2==x&&t<=i||-1.2==x&&t<=i?q=1.2:-1.2==x&&n+k+10>=o?x=1.2:(1.2==x&&t+k>s||-1.2==x&&t+k>s)&&(q=-1.2))}if((t+k+10>=f||t<=0||n<=50)&&function(){let e=document.querySelector(".game__ball"),t=e.getBoundingClientRect().left,n=e.getBoundingClientRect().top;t+k+10>=f?q=-1.2:t<=0?q=1.2:n<=50&&(x=-1.2)}(),I[1]<=0){clearInterval(C),S.classList.add("_hide");let e=+document.querySelector(".header-wrapper_lifes").innerHTML;e<=0?(setTimeout((()=>{document.querySelector(".loose").classList.add("_active")}),600),setTimeout((()=>{m.textContent=+m.innerHTML+500,sessionStorage.setItem("monets",m.innerHTML),m.classList.add("_anim"),setTimeout((()=>{m.classList.remove("_anim")}),1e3)}),500)):(e--,setTimeout((()=>{document.querySelector(".header-wrapper_lifes").textContent=e,S.style.left="42%",S.style.bottom="10%",I=[42,10],setTimeout((()=>{S.classList.remove("_hide")}),500),setTimeout((()=>{C=setInterval((()=>{F()}),30)}),1e3)}),500))}t+k>=s+50&&t+k<=s+270&&I[1]<=10&&(x=1.2)}function F(){I[0]+=q,I[1]+=x,S.style.left=I[0]+"%",S.style.bottom=I[1]+"%",H()}function $(e,t,n,s,i=""){e.setAttribute("src",`img/icons/${t}.svg`),e.setAttribute("alt","Image"),n.append(e,i),document.querySelector(`.bonus__prize_${s}`).append(n)}function O(e){setTimeout((()=>{m.textContent=+m.innerHTML+e,sessionStorage.setItem("monets",m.innerHTML),m.classList.add("_anim"),setTimeout((()=>{m.classList.remove("_anim")}),1e3)}),500)}function N(e){setTimeout((()=>{d.textContent=+d.innerHTML+e,sessionStorage.setItem("coins",d.innerHTML),d.classList.add("_anim"),setTimeout((()=>{d.classList.remove("_anim")}),1e3)}),500)}function P(){if(sessionStorage.getItem("ball")){let e=+sessionStorage.getItem("ball");sessionStorage.setItem("ball",e+1)}else sessionStorage.setItem("ball",1)}function X(){if(sessionStorage.getItem("bomb")){let e=+sessionStorage.getItem("bomb");sessionStorage.setItem("bomb",e+1)}else sessionStorage.setItem("bomb",1)}function D(){if(sessionStorage.getItem("rocket")){let e=+sessionStorage.getItem("rocket");sessionStorage.setItem("rocket",e+1)}else sessionStorage.setItem("rocket",1)}sessionStorage.getItem("game-two")&&document.querySelectorAll(".levels__button").forEach((e=>{e.classList.contains("_hide")&&e.classList.remove("_hide")}));let z=[];function G(){let e=Math.floor(5*Math.random()+0);return z.push(e),z.length<3?G():z}function j(){return[10,50,30,10,200,100][Math.floor(6*Math.random()+0)]}function W(){return[1,1,2,6,5,3][Math.floor(6*Math.random()+0)]}var U=2e3;function V(e,t){return Math.floor(Math.random()*(t-e)+e)}var Y=document.querySelector("#slot1"),J=document.querySelector("#slot2"),Q=document.querySelector("#slot3");if(Y&&J&&Q){let e,t,n;var K=new SlotMachine(Y,{active:0,delay:100,onComplete:function(s){e=this.active,666!=e&&666!=t&&666!=n&&e==t&&t==n&&(O(500),N(50))}}),Z=new SlotMachine(J,{active:2,delay:100,onComplete:function(s){t=this.active,666!=e&&666!=t&&666!=n&&e==t&&t==n&&(O(500),N(50))}}),ee=new SlotMachine(Q,{active:1,delay:100,onComplete:function(s){n=this.active,666!=e&&666!=t&&666!=n&&e==t&&t==n&&(O(500),N(50))}});document.querySelector(".casino__button-play")&&document.querySelector(".casino__button-play").addEventListener("click",(()=>{e=666,t=666,n=666,Y&&J&&Q&&(clearInterval(undefined),K.shuffle(9999),Z.shuffle(9999),ee.shuffle(9999),setTimeout((()=>K.stop()),V(500,U)),setTimeout((()=>Z.stop()),V(500,U)),setTimeout((()=>ee.stop()),V(500,U))),document.querySelector(".casino__button-play").classList.add("_hold"),setTimeout((()=>{document.querySelector(".casino__button-play").classList.remove("_hold")}),2e3)}))}window.FLS=!0,function(e){let t=new Image;t.onload=t.onerror=function(){e(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}((function(e){let t=!0===e?"webp":"no-webp";document.documentElement.classList.add(t)}))})();